<HTML>
<HEAD>
<TITLE>jASL Source Browser</TITLE>
</HEAD>
<H1>jASL Source Browser</H1>
<HR>
<H2>Building jASL</H2>
The generation of the files and documentation for the jASL program depends on
the availability of the
'<TT><A HREF=http://directory.fsf.org/GNU/make.html>make</A></TT>' program. An
alternative application for build automation is
<A HREF=http://jakarta.apache.org/ant/index.html>Ant</A>. Its implementation for
this program is left as an exercise.
<P>
The following conditions are assumed about the system used to process the files
in the source directory and its sub-directories:
<UL>
<LI>A <A HREF=http://java.sun.com/j2se/>Java SE</A> SDK (version 1.5 or higher)
is installed.
<LI>The original directory structure for this system is in place.
<A NAME="JASL_BASE"></A>The top level directory is <TT>jasl</TT>, which is
referred to as <B><I>$JASL_BASE</I></B> in this document. An environment variable
with this name is necessary for
<TT><A HREF=http://directory.fsf.org/GNU/make.html>make</A></TT> to work
properly. Examples:
<UL>
<TT>setenv JASL_BASE /home/craig/java/jasl</TT><BR>
<TT>export JASL_BASE=/home/craig/java/jasl</TT>
</UL>
<LI><I>Optional. </I>
<A HREF=http://gcc.gnu.org/java/>GCJ</A> (3.0 or higher). This can be used to
build the native executable versions of this program, static and dynamic
libraries, and header files.
<LI><I>Optional. </I>
<TT><A HREF=http://directory.fsf.org/GNU/sourcehighlight.html>source-highlight</A></TT>.
This program is used to create HTML versions of the source files.
<LI><I>Optional. </I><TT><A HREF=http://www.perl.org/>perl</A></TT> and
<TT><A HREF=http://directory.fsf.org/GNU/sed.html>sed</A></TT>, which are used
to build a linked hierarchy of the HTML versions of the source files.
<LI><I>Optional. </I>
<TT><A HREF=http://directory.fsf.org/cp-tools.html>gjdoc</A></TT>. This program
is an alternative to
<TT><A HREF=http://java.sun.com/j2se/javadoc/index.jsp>javadoc</A></TT>. Note
that the same parameters and output directory will be used for both programs.
<LI><I>Optional. </I><TT><A HREF=http://ctags.sourceforge.net/>ctags</A></TT>.
<LI><I>Optional. </I>A <A HREF=../BuildARMToolChainNotes.html>toolchain</A>
capable of building an executable with <A HREF=http://gcc.gnu.org/java/>GCJ</A>
for a non-iX86 architecture. I have used these source files and build structure,
with only the minor change noted below for the <TT>gcj</TT> and <TT>gcj_obj</TT>
targets, to cross-compile an executable and run it on my
<A HREF=http://www.myzaurus.com/>Sharp Zaurus</A>. To specify an alternative gcj
compiler, such as arm-linux-gcj, specify the execution of make as follows:
<UL>
<TT>make GCJ_COMPILER=arm-linux-gcj <I>[gcj related target]</I></TT>
</UL>
</UL>
<P>
The purpose of each target defined in the <A HREF=Makefile.html>Makefile</A> is
listed below. The executable and object files are written to (and deleted from)
the output directory (<B><I>$JASL_BASE</I>/bin</B>) and its sub-directories. All
of the libraries referenced are found in <B><I>$JASL_BASE/lib</I></B>.
<UL>
<LI><I>none</I> or <TT>all</TT> or <TT>build</TT> - compiles all of the .java
source files using
<TT><A HREF=http://java.sun.com/javase/6/docs/technotes/tools/solaris/javac.html>javac</A></TT>,
placing the .class files in the output directory.
The .class files in each sub-directory are also generated.
<LI><TT>build_all</TT> - executes the actions defined for the <TT>gcj</TT>,
<TT>gcj_dynamic</TT>, <TT>gcj_static</TT>, <TT>cni_dynamic</TT>,
<TT>cni_static</TT>, and <TT>jar</TT> targets.
<LI><TT>build_gcj</TT> - executes the actions defined for the <TT>gcj</TT>
target. Upon completion, the <TT>clean_obj</TT>, <TT>clean_class</TT>, and
<TT>clean_java</TT> targets are executed, removing all of the intermediate
files created by the build.
<LI><TT>build_gcj_dynamic</TT> - executes the actions defined for the
<TT>gcj_dynamic</TT> target. Upon completion, the <TT>clean_class</TT> and
<TT>clean_java</TT> targets are executed, removing all of the intermediate
files created by the build.
<LI><TT>build_gcj_static</TT> - performs a similar function to the
<TT>build_gcj_dynamic</TT> target, with the <TT>gcj_static</TT> target replacing
<TT>gcj_dynamic</TT>.
<P>
<LI><TT>gcj_obj</TT> - compiles all of the .java source files in each
sub-directory using <A HREF=http://gcc.gnu.org/java/compile.html>GCJ</A>,
placing the object (.o) files in the matching sub-directory of the output
directory. The .class files for each source file are also generated and placed
in the appropriate location as a result of the execution of this target.
<LI><TT>gcj</TT> - executes the actions defined for the <TT>gcj_obj</TT> target
and then builds native executable(s), linked with the individual object (.o)
files, using <A HREF=http://gcc.gnu.org/java/compile.html>GCJ</A>. The file(s)
are placed in the output directory.
<LI><TT>gcj_dynamic</TT> - executes the actions defined for the <TT>all</TT> or
<TT>build</TT> target. When this is complete, native executable(s), linked with
one or more of the <I>dynamic</I> <TT>jasl</TT> libraries, are generated using
<A HREF=http://gcc.gnu.org/java/compile.html>GCJ</A>. The file(s), which have a
"_dynamic" suffix, are placed in the output directory.
<LI><TT>gcj_static</TT> - performs a similar function to the
<TT>gcj_dynamic</TT> target, except the linking is with the appropriate
<I>static</I> <TT>jasl</TT> libraries and each output filename ends with
"_static".
<P>
<LI><TT>cni_dynamic</TT> - compiles the .cpp source file(s) using
<A HREF=http://gcc.gnu.org/java/compile.html>GCJ</A> and links them with
<I>dynamic</I> versions of one or more of the <TT>jasl</TT> libraries and the
<TT>cni-wrapper</TT> library. These native executable(s) have a "_cni_dynamic"
suffix and are placed in the output directory.
<LI><TT>cni_static</TT> - performs a similar function to the
<TT>cni_dynamic</TT> target, except the linking is with the appropriate
<I>static</I> libraries and each output filename ends with "cni_static".
<P>
<I>The </I><TT>clean</TT><I> targets remove the specified files from the output
directory and/or its sub-directories.</I>
<LI><TT>clean_all</TT> - executes the actions defined for the
<TT>clean_java</TT>, <TT>clean_obj</TT>, and <TT>clean</TT> targets.
<P>
<LI><TT>clean_java</TT> - deletes all of the .class files in the <TT>jasl</TT>
sub-directory hierarchy.
<LI><TT>clean_obj</TT> - deletes all of the object (.o) files in the
<TT>jasl</TT> sub-directory hierarchy.
<P>
<LI><TT>clean</TT> - executes the actions defined for each of the
<TT>clean_xxx</TT> targets defined below.
<P>
<LI><TT>clean_class</TT> - deletes the .class program file(s).
<LI><TT>clean_gcj</TT> - deletes the native (from .java source and linked with
individual object (.o) files) executable(s).
<LI><TT>clean_gcj_dynamic</TT> - deletes the native (from .java source and
linked with one or more of the <I>dynamic</I> <TT>jasl</TT> libraries)
executable(s).
<LI><TT>clean_gcj_static</TT> - deletes the native (from .java source and linked
with one or more of the <I>static</I> <TT>jasl</TT> libraries) executable(s).
<LI><TT>clean_cni_dynamic</TT> - deletes the native (from .cpp source and linked
with the <I>dynamic</I> versions of one or more of the <TT>jasl</TT> libraries
and the <TT>cni-wrapper</TT> library) executable(s).
<LI><TT>clean_cni_static</TT> - deletes the native (from .cpp source and linked
with the <I>static</I> versions of one or more of the <TT>jasl</TT> libraries
and the <TT>cni-wrapper</TT> library) executable(s).
<LI><TT>clean_jar</TT> - deletes the
<TT>
<A HREF=http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html>jar</A>
</TT> archive.
<P>
<I>The </I><TT>test</TT><I> targets execute the specified output format and
compare the result, using
</I><TT><A HREF=http://directory.fsf.org/GNU/diffutils.html>diff</A></TT><I>, to
a saved file.</I>
<LI><TT>test</TT> - the java bytecode.
<LI><TT>test_gcj</TT> - the native executable(s), linked with individual object
(.o) files.
<LI><TT>test_gcj_dynamic</TT> - the native (from .java source) executable(s),
linked with one or more of the <I>dynamic</I> <TT>jasl</TT> libraries.
<LI><TT>test_gcj_static</TT> - the native (from .java source) executable(s),
linked with one or more of the <I>static</I> <TT>jasl</TT> libraries.
<LI><TT>test_cni_dynamic</TT> - the native (from .cpp source) executable(s),
linked with the <I>dynamic</I> versions of one or more of the <TT>jasl</TT>
libraries and the <TT>cni-wrapper</TT> library.
<LI><TT>test_cni_static</TT> - the native (from .cpp source) executable(s),
linked with the <I>static</I> versions of one or more of the <TT>jasl</TT>
libraries and the <TT>cni-wrapper</TT> library.
<LI><TT>test_jar</TT> - the
<TT>
<A HREF=http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html>jar</A>
</TT> archive.
<P>
<I>The following targets are used to generate the documentation from the source
files, placing the results in the indicated sub-directory of
<B>$JASL_BASE/share/jasl/doc</B>.</I>
<LI><TT>docs</TT> - generates an HTML version of each source file and the
<A HREF=Makefile.html>Makefile</A> using
<TT><A HREF=http://directory.fsf.org/GNU/sourcehighlight.html>source-highlight</A></TT>,
placing the output files in
<B><A HREF=index.html>source</A></B>. This file, <B>source.html</B>, is also
generated, and includes links to all of the HTML files in their respective
sub-directories.
<LI><TT>javadocs</TT> - generates class documentation for this program using
<TT><A HREF=http://java.sun.com/javase/6/docs/technotes/tools/solaris/javadoc.html>javadoc</A></TT>, placing the output files in
<B><A HREF=../javadocs/index.html>javadocs</A></B>.
<LI><TT>gjdocs</TT> - generates class documentation for this program using
<TT><A HREF=http://directory.fsf.org/cp-tools.html>gjdoc</A></TT>, placing the
output files in <B><A HREF=../javadocs/index.html>javadocs</A></B>.
<LI><TT>doxygen</TT> - generates class documentation for this program using
<TT><A HREF=http://www.doxygen.org/>doxygen</A></TT>, placing the output files
in <B><A HREF=../doxygen/html/index.html>doxygen/html</A></B>.
<P>
<LI><TT>all_docs</TT> - executes the actions defined for the
<TT>docs</TT>, <TT>javadocs</TT>, and <TT>doxygen</TT> targets.
<P>
<I>Miscellaneous program and build targets.</I>
<LI><TT><A HREF=http://ctags.sourceforge.net/>ctags</A></TT> - creates a file
(<B>tags</B>) in the source directory that indexes many of the language objects.
This is useful for navigating the source code from text editors, such as
<A HREF="http://vim.sourceforge.net/">Vim</A>, that support it.
<P>
<LI><TT>jar</TT> - create an executable
<TT>
<A HREF=http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html>jar</A>
</TT>
archive of the jASL program. This target will delete the object (.o) files in
the sub-directories of the output directory (see <TT>clean_obj</TT>) to prevent
them from being included in the archive.
</UL>
<HR>
<A HREF="http://vim.sourceforge.net/"><img src="vim.png" align="right" BORDER=0></A>
